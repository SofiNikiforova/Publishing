{% extends 'base.html' %}

{% block title %}Редактирование заявки{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-4">Редактирование заявки #{{ order.id }}</h2>
    <form method="POST" enctype="multipart/form-data">
        {% if order.product_type == 'book' %}
        <div class="mb-3">
            <label for="book_title" class="form-label">Название книги</label>
            <input type="text" class="form-control" id="book_title" name="book_title" value="{{ order.book_title }}" required>
        </div>
        <div class="mb-3">
            <label for="author_name" class="form-label">Имя автора</label>
            <input type="text" class="form-control" id="author_name" name="author_name" value="{{ order.author_name }}" required>
        </div>
        <div class="mb-3">
            <label for="pages_count" class="form-label">Количество страниц</label>
            <input type="number" class="form-control" id="pages_count" name="pages_count" value="{{ order.pages_count }}" required>
        </div>
        <div class="mb-3">
            <label for="binding_type" class="form-label">Тип переплета</label>
            <select class="form-select" id="binding_type" name="binding_type" required>
                <option value="Мягкий" {% if order.binding_type == 'Мягкий' %}selected{% endif %}>Мягкий</option>
                <option value="Твердый" {% if order.binding_type == 'Твердый' %}selected{% endif %}>Твердый</option>
                <option value="Без переплета" {% if order.binding_type == 'Без переплета' %}selected{% endif %}>Без переплета</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="paper_type" class="form-label">Тип бумаги</label>
            <select class="form-select" id="paper_type" name="paper_type" required>
                <option value="Офсетная" {% if order.paper_type == 'Офсетная' %}selected{% endif %}>Офсетная</option>
                <option value="Глянцевая" {% if order.paper_type == 'Глянцевая' %}selected{% endif %}>Глянцевая</option>
                <option value="Матовая" {% if order.paper_type == 'Матовая' %}selected{% endif %}>Матовая</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="copies_count" class="form-label">Тираж</label>
            <input type="number" class="form-control" id="copies_count" name="copies_count" value="{{ order.copies_count }}" required>
        </div>
        {% elif order.product_type == 'magazine' %}
        <div class="mb-3">
            <label for="magazine_title" class="form-label">Название журнала</label>
            <input type="text" class="form-control" id="magazine_title" name="magazine_title" value="{{ order.magazine_title }}" required>
        </div>
        <div class="mb-3">
            <label for="magazine_pages" class="form-label">Количество страниц</label>
            <input type="number" class="form-control" id="magazine_pages" name="magazine_pages" value="{{ order.magazine_pages_count }}" required>
        </div>
        <div class="mb-3">
            <label for="magazine_paper_type" class="form-label">Тип бумаги</label>
            <select class="form-select" id="magazine_paper_type" name="magazine_paper_type" required>
                <option value="Офсетная" {% if order.magazine_paper_type == 'Офсетная' %}selected{% endif %}>Офсетная</option>
                <option value="Глянцевая" {% if order.magazine_paper_type == 'Глянцевая' %}selected{% endif %}>Глянцевая</option>
                <option value="Матовая" {% if order.magazine_paper_type == 'Матовая' %}selected{% endif %}>Матовая</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="magazine_copies" class="form-label">Тираж</label>
            <input type="number" class="form-control" id="magazine_copies" name="magazine_copies" value="{{ order.magazine_copies_count }}" required>
        </div>
        {% endif %}
        <button type="submit" class="btn btn-success w-100">Отправить заявку</button>
    </form>
</div>
{% endblock %}
